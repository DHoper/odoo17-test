<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="tutorTalk.ChatWindow">
        <div class="relative flex flex-col items-center flex-shrink-0 rounded-2xl bg-gray-100 h-screen p-2">
            <div t-if="this.sanitizedMessages.length &gt; 0" class="flex flex-col overflow-y-auto w-full">
                <t t-foreach="this.sanitizedMessages" t-as="message" t-key="message.id">
                    <div class="message p-2 sm:p-0 mb-2 rounded">
                        <t t-if="message.author.user.id != liveChat.user.id and message.author.user.login != 'public'">
                            <div class="chat chat-start">
                                <div class="chat-image avatar">
                                    <div class="w-10 rounded-full">
                                        <img alt="Tailwind CSS chat bubble component" src="https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg" />
                                    </div>
                                </div>
                                <div class="chat-header">
                                    <span t-esc="message.author.name"/>
                                </div>
                                <div class="chat-bubble chat-bubble-info">
                                    <t t-esc="message.sanitizedBody
                                    " class="mt-1"/>
                                </div>
                                <div class="chat-footer flex text-slate-500 gap-2 mt-1">
                                    <time class="text-xs">
                                        <span t-esc="timeFormat(message.write_date)"/>
                                    </time>
                                    <span class="text-xs">已傳送</span>
                                </div>
                            </div>
                        </t>
                        <t t-else="">
                            <div class="chat chat-end">
                                <div class="chat-bubble chat-bubble-success">
                                    <t t-esc="message.sanitizedBody" class="mt-1"/>
                                </div>
                                <div class="chat-footer flex text-slate-500 gap-2 mt-1">
                                    <time class="text-xs">
                                        <span t-esc="timeFormat(message.write_date)"/>
                                    </time>
                                    <span class="text-xs">已讀</span>
                                </div>
                            </div>
                        </t>

                    </div>
                </t>
            </div>
            <div class="flex items-center fixed bottom-0 justify-between gap-2 bg-white p-2 py-4 rounded-xl w-full">
                <!-- <button class="flex items-center justify-center text-gray-400 hover:text-gray-600"> -->
                <!-- <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" -->
                <!-- xmlns="http://www.w3.org/2000/svg"> -->
                <!-- <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"></path> -->
                <!-- </svg> -->
                <!-- </button> -->

                <div class="relative w-full flex-1">
                    <textarea t-model="state.text" t-ref="textarea" t-on-input="autoResize" class="textarea textarea-bordered textarea-md w-full max-w-xs scrollbar-hide resize-none dark:bg-white line-height-8" rows="1"></textarea>
                </div>

                <button t-on-click="onClickSendMessage" class="flex flex-row items-center justify-center text-indigo-700 px-2 py-1">
                    <svg class="w-8 h-8 transform  rotate-90 -mt-px" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                    </svg>
                </button>
            </div>
        </div>

    </t>
</templates>